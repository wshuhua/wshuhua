(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{492:function(t,a,s){"use strict";s.r(a);var e=s(28),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-打包-css"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-打包-css"}},[t._v("#")]),t._v(" 1. 打包 css")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("- use"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("'style-loader'"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'css-loader'"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n- loader执行顺序：先右后左(先下后上)\n- css-loader"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 按照common规范将样式文件 输出到js中\n- style-loader"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 将js中的样式，挂载到<style>标签中\n- css 单独成独立的文件 mini-css-extract-plugin\n- 添加样式前缀，postcss-loader，autoprefixer\n- 校验css格式：stylelint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("stylelint-config-standard"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("stylelint-webpack-plugin\n- css压缩：optimize-css-assets-webpack-plugin\n")])])]),s("h2",{attrs:{id:"_2-打包-html"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-打包-html"}},[t._v("#")]),t._v(" 2. 打包 html")]),t._v(" "),s("ul",[s("li",[t._v("html-webpack-plugin：\n"),s("ul",[s("li",[t._v("生成 HTML 文件（用于服务器访问），并在 HTML 中加载所有的打包资源")]),t._v(" "),s("li",[t._v("指定 html 模版，设置 html 变量，压缩 html")])])])]),t._v(" "),s("h2",{attrs:{id:"_3-打包-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-打包-js"}},[t._v("#")]),t._v(" 3. 打包 js")]),t._v(" "),s("ul",[s("li",[t._v("babel 转换语法\n"),s("ul",[s("li",[t._v("@babel/preset-env(只能转换基本语法)")]),t._v(" "),s("li",[t._v("@babel/ployfill（转换所有 js 新语法）")]),t._v(" "),s("li",[t._v("core-js(按需转译)")])])]),t._v(" "),s("li",[t._v("js 代码格式校验规：\n"),s("ul",[s("li",[t._v("eslint eslint-config-airbnb eslint-webpack-plugin eslint-plugin-import")]),t._v(" "),s("li")])])]),t._v(" "),s("h2",{attrs:{id:"_4-打包图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-打包图片"}},[t._v("#")]),t._v(" 4. 打包图片")]),t._v(" "),s("ul",[s("li",[t._v("file-loader")]),t._v(" "),s("li",[t._v("url-loader（图片小于配置大小，转为 base64 ）")]),t._v(" "),s("li",[t._v("html-loader：将 html 导出为字符串，（负责引入 img，从而能被 url-loader 进行处理）")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("资源兼容性问题")]),t._v(" "),s("p",[t._v("html-loader 与 html-weback-plugin 冲突，原因是：htmlwebpackPlugin 会检查目标文件是否已经有 loader 处理，如果有其他 loader 处理，htmlWebpackPlugin 不再使用 lodash.template 去处理 ejs 语法。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/demo.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"_5-打包字体"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-打包字体"}},[t._v("#")]),t._v(" 5. 打包字体")]),t._v(" "),s("p",[t._v("v4:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.(eot|svg|ttf|woff|woff2)$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("i")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("loader")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'file-loader'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fonts/[name].[ext]'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("v5")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('{\n    test: /\\.(eot|svg|ttf|woff|woff2)$/i,\n    type: "asset",\n    parser: {\n      dataUrlCondition: {\n        maxSize: 8 * 1024,\n      },\n    },\n    generator: {\n      filename: "fonts /[name].[ext]",\n    },\n}\n')])])]),s("h2",{attrs:{id:"_6-资源模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-资源模块"}},[t._v("#")]),t._v(" 6. 资源模块")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("功能：")]),t._v(" "),s("ul",[s("li",[t._v("资源模块是一种模块类型，它允许使用"),s("code",[t._v("资源文件")]),t._v("，而无需配置额外 loader")]),t._v(" "),s("li",[t._v("资源文件：字体，图片，图标，HTML...")])])]),t._v(" "),s("li",[s("p",[t._v("v4 vs v5")])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("h4",{attrs:{id:"webpack4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack4"}},[t._v("#")]),t._v(" webpack4:")]),t._v(" "),s("ul",[s("li",[t._v("raw-loader (将文件导入为字符串)")]),t._v(" "),s("li",[t._v("file-loader (将文件发送到输出目录)")]),t._v(" "),s("li",[t._v("url-loader(将文件发送到输出目录，或转为 Data Url 内联到 bundle)")])]),t._v(" "),s("h4",{attrs:{id:"webpack5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack5"}},[t._v("#")]),t._v(" webpack5")]),t._v(" "),s("ul",[s("li",[t._v("asset/resource 发送一个单独的文件并导出 URL（之前通过 file-loader）")]),t._v(" "),s("li",[t._v("asset/inline 导出一个资源的 data URL（之前通过使用 url-loader）")]),t._v(" "),s("li",[t._v("asset/source 导出资源的源代码（之前通过 raw-loader）")]),t._v(" "),s("li",[t._v("asset：在导出一个 data URL 和发送一个单独的文件之间自动选择（url-loader）")])]),t._v(" "),s("p",[t._v("asset 可以在 asset/resource 和 asset/inline 之间进行切换。\n如果小于 8kb，使用 asset/inline\n如果大于 8kb，使用 asset/resource")])]),t._v(" "),s("h2",{attrs:{id:"_7-开发服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-开发服务器"}},[t._v("#")]),t._v(" 7. 开发服务器")]),t._v(" "),s("ul",[s("li",[t._v("作用：发布 web 服务，提高开发效率")]),t._v(" "),s("li",[t._v("使用：\n"),s("ul",[s("li",[t._v("webpack4: webpack-dev-server")]),t._v(" "),s("li",[t._v("webpack5: webapck serve")])])]),t._v(" "),s("li",[t._v("热更新\n"),s("ul",[s("li",[t._v("webpack4\n"),s("ul",[s("li",[t._v("hot: true")])])]),t._v(" "),s("li",[t._v("webpack 5\n"),s("ul",[s("li",[t._v("liveReload: true(禁用 hot)")]),t._v(" "),s("li",[t._v('target: "web"(热更新只适应于 web 相关的 targets)')])])])])]),t._v(" "),s("li",[t._v("Proxy（配置接口代理）")])]),t._v(" "),s("h2",{attrs:{id:"_8-概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-概念"}},[t._v("#")]),t._v(" 8. 概念")]),t._v(" "),s("p",[t._v("渲染: HTML + CSS + JS + Data -> 渲染后的 HTML")]),t._v(" "),s("p",[t._v("服务端：")]),t._v(" "),s("ul",[s("li",[t._v("所有模板等资源都存储在服务端")]),t._v(" "),s("li",[t._v("内⽹机器拉取数据更快")]),t._v(" "),s("li",[t._v("⼀个 HTML 返回所有数据")])]),t._v(" "),s("h4",{attrs:{id:"浏览器和服务器交互流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#浏览器和服务器交互流程"}},[t._v("#")]),t._v(" 浏览器和服务器交互流程")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/webpack/ssr.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"客户端渲染-vs-服务端渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户端渲染-vs-服务端渲染"}},[t._v("#")]),t._v(" 客户端渲染 vs 服务端渲染")]),t._v(" "),s("p",[t._v("服务端渲染 (SSR) 的核⼼是减少请求")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",[t._v("客户端渲染")]),t._v(" "),s("th",[t._v("服务端渲染")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("请求")]),t._v(" "),s("td",[t._v("多个请求（HTML， 数据等）")]),t._v(" "),s("td",[t._v("1个请求 ｜")])]),t._v(" "),s("tr",[s("td",[t._v("加载过程")]),t._v(" "),s("td",[t._v("HTML/ 数据 串行加载")]),t._v(" "),s("td",[t._v("一个请求返回 html& 数据")])]),t._v(" "),s("tr",[s("td",[t._v("渲染")]),t._v(" "),s("td",[t._v("前端渲染")]),t._v(" "),s("td",[t._v("后端渲染 ｜")])])])]),t._v(" "),s("p",[t._v("SSR 的优势:")]),t._v(" "),s("ul",[s("li",[t._v("减少⽩屏时间")]),t._v(" "),s("li",[t._v("对于 SEO 友好")])])])}),[],!1,null,null,null);a.default=r.exports}}]);