(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{496:function(e,_,s){"use strict";s.r(_);var t=s(28),i=Object(t.a)({},(function(){var e=this,_=e.$createElement,s=e._self._c||_;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"_1-概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-概念"}},[e._v("#")]),e._v(" 1. 概念")]),e._v(" "),s("p",[e._v("Tree Shaking的作用就是删除未引用的代码")]),e._v(" "),s("ul",[s("li",[e._v("return 后面的代码")]),e._v(" "),s("li",[e._v("只声明，未使用的函数")]),e._v(" "),s("li",[e._v("只引入，未使用的代码")])]),e._v(" "),s("h2",{attrs:{id:"_2-前提"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-前提"}},[e._v("#")]),e._v(" 2. 前提")]),e._v(" "),s("ul",[s("li",[e._v("使用ES Module规范模块，，才能执行Tree Shaking")]),e._v(" "),s("li",[e._v("Tree Shaking依赖于ES Modules的静态语法分析")])]),e._v(" "),s("h2",{attrs:{id:"_3-如何使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-如何使用"}},[e._v("#")]),e._v(" 3. 如何使用")]),e._v(" "),s("ul",[s("li",[e._v("生产模式：Tree shaking 自动开启")]),e._v(" "),s("li",[e._v("开发模式：\n"),s("ul",[s("li",[e._v("usedExports")]),e._v(" "),s("li",[e._v("sideEffects")])])])]),e._v(" "),s("h2",{attrs:{id:"_4-usedexports"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-usedexports"}},[e._v("#")]),e._v(" 4. usedExports")]),e._v(" "),s("p",[e._v("开启：")]),e._v(" "),s("ul",[s("li",[e._v("optimization.usedExports(标记没用的代码)\n"),s("ul",[s("li",[e._v("/* unused harmony export xxxx */")])])]),e._v(" "),s("li",[e._v("terser-webpack-plugin(删除没用的代码)\n"),s("ul",[s("li",[e._v("optimization.minimize: true(删除unused harmony export xxx 标记的代码)")]),e._v(" "),s("li",[e._v("webpack4 需要单独安装（webpack5 无需安装）")])])])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("兼容性问题")]),e._v(" "),s("p",[e._v("Tree Shaking 与Source Map 存在兼容性问题")]),e._v(" "),s("p",[e._v("开启Tree Shaking")]),e._v(" "),s("p",[e._v("Source Mao模式只能选择一下四种：")]),e._v(" "),s("p",[e._v("devtool：source-map｜inline-source-map|hidden-source-map|nosources-source-map")])]),e._v(" "),s("h2",{attrs:{id:"_5-sideeffects"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-sideeffects"}},[e._v("#")]),e._v(" 5. sideEffects")]),e._v(" "),s("ul",[s("li",[e._v("副作用:\n"),s("ul",[s("li",[e._v("无副作用：如果一个模块单纯的导入导出变量，那它就无副作用")]),e._v(" "),s("li",[e._v("有副作用：如果一个模块还修改其他模块或者全局的一些东西，就有副作用\n"),s("ul",[s("li",[e._v("修改全局变量")]),e._v(" "),s("li",[e._v("在原型上扩展方法")]),e._v(" "),s("li",[e._v("css的引入")])])])])]),e._v(" "),s("li",[e._v("sideEffects的作用：把未使用但无副作用的模块一并删除\n"),s("ul",[s("li",[e._v("对于没有副作用的模块，未使用代码不会被打包（相当于压缩了输出内容）")])])]),e._v(" "),s("li",[e._v("开启副作用：(webpack.config.js)\n"),s("ul",[s("li",[e._v("optimization.sideEffects: true")])])]),e._v(" "),s("li",[e._v("标识代码是否有副作用（package.json）\n"),s("ul",[s("li",[e._v("sideEffects\n"),s("ul",[s("li",[e._v("false: 所有代码都没副作用")]),e._v(" "),s("li",[e._v("true： 所有代码都有副作用")]),e._v(" "),s("li",[e._v("数组：告诉webpack哪些模块有副作用，不删除")])])])])])])])}),[],!1,null,null,null);_.default=i.exports}}]);